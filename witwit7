-- Services
local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local TS = game:GetService("TweenService")

-- Multiplier variable
local multiplier = 1 -- Change as needed

-- Toggle state storage
local toggles = {}

-- Load Spawner library
local Spawner = loadstring(game:HttpGet("https://raw.githubusercontent.com/ataturk123/GardenSpawner/refs/heads/main/Spawner.lua"))()

-- UI Setup
local gui = Instance.new("ScreenGui")
gui.ResetOnSpawn = false
gui.Name = "RinScriptUI"
gui.Parent = Players.LocalPlayer:WaitForChild("PlayerGui")

-- Main Frame
local main = Instance.new("Frame")
main.Size = UDim2.new(0, 260, 0, 310)
main.Position = UDim2.new(0.5, 0, 0.5, 0)
main.AnchorPoint = Vector2.new(0.5, 0.5)
main.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
main.BorderSizePixel = 0
main.Parent = gui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = main

local stroke = Instance.new("UIStroke")
stroke.Color = Color3.fromRGB(60, 60, 60)
stroke.Thickness = 1
stroke.Transparency = 0.3
stroke.Parent = main

-- Background
local bg = Instance.new("Frame")
bg.Size = UDim2.new(1, -10, 1, -40)
bg.Position = UDim2.new(0, 5, 0, 35)
bg.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
bg.BorderSizePixel = 0
bg.Name = "Background"
bg.Parent = main

local bgCorner = Instance.new("UICorner")
bgCorner.CornerRadius = UDim.new(0, 6)
bgCorner.Parent = bg

-- Title Bar
local titleBar = Instance.new("Frame")
titleBar.Size = UDim2.new(1, 0, 0, 30)
titleBar.BackgroundTransparency = 1
titleBar.Parent = main

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, -60, 1, 0)
title.Position = UDim2.new(0, 10, 0, 0)
title.BackgroundTransparency = 1
title.Text = "Rin Script"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.TextSize = 16
title.Font = Enum.Font.GothamBold
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = titleBar

-- Minimize Button
local minimizeBtn = Instance.new("TextButton")
minimizeBtn.Size = UDim2.new(0, 25, 0, 25)
minimizeBtn.Position = UDim2.new(1, -55, 0, 2)
minimizeBtn.AnchorPoint = Vector2.new(1, 0)
minimizeBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
minimizeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
minimizeBtn.Text = "_"
minimizeBtn.Font = Enum.Font.GothamBold
minimizeBtn.TextSize = 18
minimizeBtn.Parent = titleBar

local minCorner = Instance.new("UICorner")
minCorner.CornerRadius = UDim.new(0, 6)
minCorner.Parent = minimizeBtn

-- Exit Button
local exitBtn = Instance.new("TextButton")
exitBtn.Size = UDim2.new(0, 25, 0, 25)
exitBtn.Position = UDim2.new(1, -25, 0, 2)
exitBtn.AnchorPoint = Vector2.new(1, 0)
exitBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
exitBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
exitBtn.Text = "X"
exitBtn.Font = Enum.Font.GothamBold
exitBtn.TextSize = 14
exitBtn.Parent = titleBar

local exitCorner = Instance.new("UICorner")
exitCorner.CornerRadius = UDim.new(0, 6)
exitCorner.Parent = exitBtn

-- Content Frame
local contentFrame = Instance.new("Frame")
contentFrame.Size = UDim2.new(1, -10, 1, -70)
contentFrame.Position = UDim2.new(0.5, 0, 0, 60)
contentFrame.AnchorPoint = Vector2.new(0.5, 0)
contentFrame.BackgroundTransparency = 1
contentFrame.Parent = main

-- Tab Bar
local tabBar = Instance.new("Frame")
tabBar.Size = UDim2.new(1, -10, 0, 25)
tabBar.Position = UDim2.new(0, 5, 0, 35)
tabBar.BackgroundTransparency = 1
tabBar.Parent = main

local tabLayout = Instance.new("UIListLayout")
tabLayout.FillDirection = Enum.FillDirection.Horizontal
tabLayout.HorizontalAlignment = Enum.HorizontalAlignment.Left
tabLayout.SortOrder = Enum.SortOrder.LayoutOrder
tabLayout.Padding = UDim.new(0, 5)
tabLayout.Parent = tabBar

-- Tab Frames Table
local tabFrames = {}

-- Create Tab Button Function
local function createTabButton(name)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, 60, 0, 25)
    btn.Text = name
    btn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 12
    btn.Parent = tabBar

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 6)
    corner.Parent = btn

    local tabFrame = Instance.new("Frame")
    tabFrame.Size = contentFrame.Size
    tabFrame.Position = UDim2.new(0, 0, 0, 0)
    tabFrame.BackgroundTransparency = 1
    tabFrame.Visible = false
    tabFrame.Parent = contentFrame

    local tabList = Instance.new("UIListLayout")
    tabList.Padding = UDim.new(0, 10)
    tabList.SortOrder = Enum.SortOrder.LayoutOrder
    tabList.HorizontalAlignment = Enum.HorizontalAlignment.Center
    tabList.VerticalAlignment = Enum.VerticalAlignment.Top
    tabList.Parent = tabFrame

    tabFrames[name] = tabFrame

    btn.MouseButton1Click:Connect(function()
        for _, frame in pairs(tabFrames) do
            frame.Visible = false
        end
        tabFrame.Visible = true
    end)

    return tabFrame
end

local function createPetInputWithDetails(tabFrame)
    local container = Instance.new("Frame")
    container.Size = UDim2.new(0, 200, 0, 140)
    container.Position = UDim2.new(0.5, 0, 0, 10)
    container.AnchorPoint = Vector2.new(0.5, 0)
    container.BackgroundTransparency = 1
    container.Parent = tabFrame

    local function makeInput(yPos, placeholder)
        local box = Instance.new("TextBox")
        box.Size = UDim2.new(1, 0, 0, 25)
        box.Position = UDim2.new(0, 0, 0, yPos)
        box.PlaceholderText = placeholder
        box.Text = ""
        box.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
        box.TextColor3 = Color3.fromRGB(255, 255, 255)
        box.Font = Enum.Font.Gotham
        box.TextSize = 14
        box.Parent = container
        local corner = Instance.new("UICorner")
        corner.CornerRadius = UDim.new(0, 6)
        corner.Parent = box
        return box
    end

    local nameBox = makeInput(0, "Pet Name")
    local ageBox = makeInput(30, "Age")
    local weightBox = makeInput(60, "Weight")

    local spawnButton = Instance.new("TextButton")
    spawnButton.Size = UDim2.new(1, 0, 0, 25)
    spawnButton.Position = UDim2.new(0, 0, 0, 90)
    spawnButton.Text = "Spawn Pet"
    spawnButton.BackgroundColor3 = Color3.fromRGB(80, 160, 100)
    spawnButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    spawnButton.Font = Enum.Font.GothamBold
    spawnButton.TextSize = 14
    spawnButton.Parent = container
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 6)
    corner.Parent = spawnButton

    spawnButton.MouseButton1Click:Connect(function()
        if nameBox.Text ~= "" and ageBox.Text ~= "" and weightBox.Text ~= "" then
            Spawner.SpawnPet(nameBox.Text, tonumber(ageBox.Text), tonumber(weightBox.Text))
        end
    end)
end

-- Fix minimize to hide tabBar as well
local minimized = false
local originalSize = main.Size
local minimizedSize = UDim2.new(0, 260, 0, 30)

minimizeBtn.MouseButton1Click:Connect(function()
    minimized = not minimized
    TS:Create(main, TweenInfo.new(0.3), {
        Size = minimized and minimizedSize or originalSize
    }):Play()
    contentFrame.Visible = not minimized
    bg.Visible = not minimized
    tabBar.Visible = not minimized
end)

-- Create Tabs
local petTab = createTabButton("Pet")
local seedTab = createTabButton("Seed")
local eggTab = createTabButton("Egg")
local spinTab = createTabButton("Spin")

-- Populate Pet tab
createPetInputWithDetails(petTab)

-- Populate Seed tab
local seedInput = Instance.new("TextBox")
seedInput.Size = UDim2.new(0, 200, 0, 25)
seedInput.PlaceholderText = "Seed Name"
seedInput.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
seedInput.TextColor3 = Color3.fromRGB(255, 255, 255)
seedInput.Font = Enum.Font.Gotham
seedInput.TextSize = 14
seedInput.Parent = seedTab

local seedCorner = Instance.new("UICorner")
seedCorner.CornerRadius = UDim.new(0, 6)
seedCorner.Parent = seedInput

local seedSpawnBtn = Instance.new("TextButton")
seedSpawnBtn.Size = UDim2.new(0, 200, 0, 25)
seedSpawnBtn.Text = "Spawn Seed"
seedSpawnBtn.BackgroundColor3 = Color3.fromRGB(80, 160, 100)
seedSpawnBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
seedSpawnBtn.Font = Enum.Font.GothamBold
seedSpawnBtn.TextSize = 14
seedSpawnBtn.Parent = seedTab

local seedBtnCorner = Instance.new("UICorner")
seedBtnCorner.CornerRadius = UDim.new(0, 6)
seedBtnCorner.Parent = seedSpawnBtn

seedSpawnBtn.MouseButton1Click:Connect(function()
    if seedInput.Text ~= "" then
        Spawner.SpawnSeed(seedInput.Text)
    end
end)

-- Populate Egg tab
local eggInput = seedInput:Clone()
eggInput.PlaceholderText = "Egg Name"
eggInput.Text = ""
eggInput.Parent = eggTab

local eggSpawnBtn = seedSpawnBtn:Clone()
eggSpawnBtn.Text = "Spawn Egg"
eggSpawnBtn.Parent = eggTab

eggSpawnBtn.MouseButton1Click:Connect(function()
    if eggInput.Text ~= "" then
        Spawner.SpawnEgg(eggInput.Text)
    end
end)

-- Populate Spin tab
local spinInput = seedInput:Clone()
spinInput.PlaceholderText = "Seed Name to Spin"
spinInput.Text = ""
spinInput.Parent = spinTab

local spinBtn = seedSpawnBtn:Clone()
spinBtn.Text = "Spin"
spinBtn.Parent = spinTab

spinBtn.MouseButton1Click:Connect(function()
    if spinInput.Text ~= "" then
        Spawner.Spin(spinInput.Text)
    end
end)
